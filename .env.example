# ============================================================================
# Bible Image Generator - Environment Configuration
# ============================================================================
# This file documents all environment variables used by the application.
# Copy this file to .env for local development (not committed to git).
# For deployed environments, these are configured in wrangler.toml

# ============================================================================
# ENVIRONMENT
# ============================================================================
# Current environment: development, staging, or production
ENVIRONMENT=development

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
# Comma-separated list of allowed origins for CORS
# Development: Include all local dev server ports
# Staging: Your staging domain
# Production: Your production domain(s)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

# ============================================================================
# RATE LIMITING
# ============================================================================
# Maximum requests per hour for anonymous users (no authentication)
RATE_LIMIT_ANONYMOUS=5

# Maximum requests per hour for authenticated users
RATE_LIMIT_AUTHENTICATED=20

# ============================================================================
# DATA RETENTION
# ============================================================================
# Number of days to keep generated images before cleanup
# Images tagged as "daily-verse" or "favorite" are exempt
IMAGE_RETENTION_DAYS=90

# Number of days to keep D1 database backups
BACKUP_RETENTION_DAYS=30

# ============================================================================
# CONTENT MODERATION
# ============================================================================
# Enable content safety checks before storing images
# Recommended: false for development, true for staging/production
ENABLE_CONTENT_MODERATION=false

# ============================================================================
# SECRETS (Never commit actual values!)
# ============================================================================
# These must be set via: wrangler secret put <KEY>
# Generate secure values using: openssl rand -base64 32

# JWT secret for token signing (required if authentication is enabled)
# JWT_SECRET=your-jwt-secret-here

# API key for admin endpoints (required)
# ADMIN_API_KEY=your-admin-api-key-here

# Cloudflare Turnstile secret key (optional, for CAPTCHA)
# Get from: https://dash.cloudflare.com/?to=/:account/turnstile
TURNSTILE_SECRET_KEY=0x4AAAAAACFOFSugEtfkFL_pdsKkmdzHxGE
TURNSTILE_SITE_KEY=0x4AAAAAACFOFXRnLJoCzmQA

# ============================================================================
# CLOUDFLARE RESOURCE IDS (Configured in wrangler.toml)
# ============================================================================
# These are managed by Wrangler and don't need to be set manually:
# - D1_DATABASE_ID: Created via `wrangler d1 create`
# - KV_NAMESPACE_ID: Created via `wrangler kv:namespace create`
# - R2_BUCKET_NAME: Created via `wrangler r2 bucket create`
# - DURABLE_OBJECT_NAMESPACE: Automatically configured

# ============================================================================
# FRONTEND ENVIRONMENT VARIABLES (for Vite)
# ============================================================================
# API endpoint URL (used by frontend)
# Development: Local worker URL
# Staging/Production: Deployed worker URL
VITE_API_URL=http://localhost:8787
VITE_ENVIRONMENT=development

# Cloudflare Turnstile site key (public, safe to commit)
# VITE_TURNSTILE_SITE_KEY=casadeprovision.es
